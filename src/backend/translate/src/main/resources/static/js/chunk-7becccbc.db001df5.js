(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7becccbc"],{"07be":function(e,t,o){},"1fa8d":function(e,t,o){"use strict";var n=o("07be"),s=o.n(n);s.a},3235:function(e,t,o){"use strict";var n=o("ca7e"),s=o.n(n);s.a},3846:function(e,t,o){o("9e1e")&&"g"!=/./g.flags&&o("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:o("0bfb")})},"6b54":function(e,t,o){"use strict";o("3846");var n=o("cb7c"),s=o("0bfb"),i=o("9e1e"),a="toString",c=/./[a],r=function(e){o("2aba")(RegExp.prototype,a,e,!0)};o("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?r(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?s.call(e):void 0)}):c.name!=a&&r(function(){return c.call(this)})},"86fa":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-bottom":"3px"}},[n("Row",[e.confirmed?n("label",{staticStyle:{"font-size":"20px"}},[e._v("正在服务用户 ")]):e._e(),e.confirmed?n("Button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:e.logout}},[e._v("结束服务")]):e._e()],1)],1),e.confirmed?e._e():n("div",[n("Row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[n("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:8}},[n("Card",{staticStyle:{width:"320px"}},[n("div",{staticStyle:{"text-align":"center"}},[n("Button",{attrs:{type:"primary",shape:"circle"},on:{click:e.checkJob}},[e._v("检查请求")])],1)])],1),n("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:8}},[n("Card",{directives:[{name:"show",rawName:"v-show",value:e.get,expression:"get"}],staticStyle:{width:"320px"}},[n("div",{staticStyle:{"text-align":"center"}},[n("Button",{attrs:{type:"primary",shape:"circle"},on:{click:e.confirm}},[e._v("接单")])],1)]),n("Card",{directives:[{name:"show",rawName:"v-show",value:!e.get,expression:"!get"}],staticStyle:{width:"320px"}},[n("div",{staticStyle:{"text-align":"center"}},[n("Button",{attrs:{type:"primary",shape:"circle"}},[e._v("当前没有订单")])],1)])],1)],1)],1),e.confirmed?n("div",{staticStyle:{border:"Gainsboro 1px solid",background:"WhiteSmoke",padding:"4px"}},[n("div",[n("chatview",{ref:"chat_view",staticStyle:{margin:"2px"},attrs:{height:e.height}})],1),e.confirmed?n("a",{staticClass:"fileBox",attrs:{href:"#"}},[n("img",{staticStyle:{width:"30px"},attrs:{src:o("d53c")}}),n("input",{staticClass:"getImgUrl_file",attrs:{type:"file",id:e.id,name:"image"},on:{change:function(t){return e.imageInput(t)}}})]):e._e(),n("Input",{staticStyle:{margin:"2px",width:"95%",float:"right"},model:{value:e.message_content,callback:function(t){e.message_content=t},expression:"message_content"}},[n("Button",{attrs:{slot:"append"},on:{click:function(t){return e.sendSingleTo(e.toUser)}},slot:"append"},[e._v("发送")])],1)],1):e._e()])},s=[],i=(o("7f7f"),o("6b54"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{margin:"2px",float:"top",width:"100%"}},[o("div",{ref:"chat_box",style:{background:"WhiteSmoke",overflow:"auto",height:e.height+"px"}},e._l(e.testList1,function(t,n){return o("Row",{key:n,staticStyle:{width:"100%","margin-top":"5px"}},[o("Col",{attrs:{span:"12"}},[1===t.mode?o("Avatar",{staticStyle:{float:"left",margin:"5px"},attrs:{size:"large",src:"https://i.loli.net/2017/08/21/599a521472424.jpg"}}):e._e(),1===t.mode&&1===t.type?o("Card",{staticStyle:{float:"left",margin:"5px","max-width":"80%","word-wrap":"break-word"}},[e._v("\n          "+e._s(t.text)+"\n        ")]):e._e(),1===t.mode&&2===t.type?o("Card",{staticStyle:{float:"left",margin:"5px","max-width":"80%","word-wrap":"break-word"}},[o("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.text}})]):e._e(),1===t.mode&&3===t.type?o("Card",{staticStyle:{float:"left",margin:"5px","max-width":"80%","word-wrap":"break-word","border-radius":"10px"}},[o("audio",{attrs:{src:t.text,controls:"controls"}})]):e._e(),2===t.mode?o("label",{staticStyle:{width:"10px"}},[e._v("　")]):e._e()],1),o("Col",{attrs:{span:"12"}},[2===t.mode?o("Avatar",{staticStyle:{float:"right",margin:"5px"},attrs:{size:"large",src:"https://i.loli.net/2017/08/21/599a521472424.jpg"}}):e._e(),2===t.mode&&1===t.type?o("Card",{staticStyle:{float:"right",margin:"5px","max-width":"80%","word-wrap":"break-word"}},[e._v("\n          "+e._s(t.text)+"\n        ")]):e._e(),2===t.mode&&2===t.type?o("Card",{staticStyle:{float:"right",margin:"5px","max-width":"80%","word-wrap":"break-word"}},[o("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.text}})]):e._e()],1)],1)}),1)])}),a=[],c=(o("c5f6"),{name:"chatview",props:{height:Number},data:function(){return{testList1:[],src:""}},methods:{addMessage:function(e,t,o,n){var s=this.$refs.chat_box;this.testList1.push({text:e,mode:t,type:o,extra:n||{}}),setTimeout(function(){s.scrollTop=s.scrollHeight},0)}}}),r=c,g=(o("3235"),o("2877")),l=Object(g["a"])(r,i,a,!1,null,"3a5cac1a",null),m=l.exports,d=o("bc3a"),p=o.n(d),f={name:"jmessage",components:{Chatview:m},data:function(){return{username:"未登录",message_content:"",toUser:"",confirmed:!1,height:document.body.clientHeight/1.5,id:"inputf",get:!1}},mounted:function(){if(this.initJmessage(),sessionStorage.getItem("confirmed"))var e=sessionStorage.getItem("confirmed");this.confirmed="false"!==e,console.log("confirm"),console.log(this.confirmed)},methods:{checkJob:function(){var e=this;p.a.get("http://202.120.40.8:30454/translate/translator/checkjob").then(function(t){console.log(t),e.get=t.data,console.log(e.get)})},initJmessage:function(){var e="6a8022404564c09c1622da33",t=(new Date).getTime().toString(),o="022cd9fd995849b58b3ef0e943421ed9",n="2361ed70808bbea38749f983",s=hex_md5("appkey="+e+"&timestamp="+t+"&random_str="+o+"&key="+n);window.JIM=new JMessage,JIM.init({appkey:e,random_str:o,signature:s,timestamp:t,flag:0}).onSuccess(function(e){console.log(e)}).onFail(function(e){console.log(e)}),JIM.onSyncConversation(function(e){console.log(e)})},login:function(){var e=sessionStorage.getItem("username"),t=sessionStorage.getItem("password"),o=this;console.log(e),console.log(t),JIM.login({username:e,password:t,is_md5:!0}).onSuccess(function(e){console.log(e),o.username=e.username,o.bindReceive();var t=sessionStorage.getItem("masterid");p.a.get("http://202.120.40.8:30454/translate/translator/getjob?translatorid="+t).then(function(e){console.log(e.data);var t=e.data.userId.toString();o.toUser=t+t+t+t,console.log("that.toUser"),console.log(o.toUser)})}).onFail(function(e){console.log("登陆失败"),console.log(e.code),880103===e.code&&o.signup()})},signup:function(){var e=sessionStorage.getItem("username"),t=sessionStorage.getItem("password"),o=this;console.log(e),console.log(t),JIM.register({username:e,password:t,is_md5:!0,extras:{key1:"val1",key2:"val2"},address:"上海"}).onSuccess(function(e){console.log("注册成功"),o.login()}).onFail(function(e){console.log("注册失败")})},getConversation:function(){JIM.getConversation().onSuccess(function(e){console.log(e)}).onFail(function(e){})},sendSingleTo:function(){console.log(this.username+" "+this.toUser),console.log(this.message_content);var e=this;JIM.sendSingleMsg({target_username:e.toUser,target_nickname:"",content:e.message_content,appkey:"6a8022404564c09c1622da33",extras:""}).onSuccess(function(t,o){console.log(t),console.log(o),e.$refs.chat_view.addMessage(o.content.msg_body.text,2,1),e.message_content=""}).onFail(function(e){console.log(e)})},bindReceive:function(){var e=this;JIM.onMsgReceive(function(t){if("image"===t.messages[0].content.msg_type)JIM.getResource({media_id:t.messages[0].content.msg_body.media_id}).onSuccess(function(t){console.log(t),e.$refs.chat_view.addMessage(t.url,1,2)}).onFail(function(e){});else if("voice"===t.messages[0].content.msg_type){var o=t.messages[0].content.msg_body.duration;JIM.getResource({media_id:t.messages[0].content.msg_body.media_id}).onSuccess(function(t){console.log(t),e.$refs.chat_view.addMessage(t.url,1,3,o)}).onFail(function(e){})}else e.$refs.chat_view.addMessage(t.messages[0].content.msg_body.text,1,1);console.log(t)})},logout:function(){console.log("logout"),JIM.loginOut(),this.username="未登录",this.initJmessage(),sessionStorage.setItem("confirmed","false"),this.confirmed=!1,console.log(this.confirmed),this.checkJob()},confirm:function(){this.login(),console.log(this.toUser),sessionStorage.setItem("confirmed","true"),this.confirmed=!0,console.log(this.confirmed)},imageInput:function(e){var t=this,o=new FormData,n=document.getElementById(this.id).files[0];console.log(n),o.append(n.name,n),JIM.sendSinglePic({target_username:t.toUser,target_nickname:"",image:o,appkey:"6a8022404564c09c1622da33",extras:{}}).onSuccess(function(e,o){console.log(e),JIM.getResource({media_id:o.content.msg_body.media_id}).onSuccess(function(e){console.log(e),t.$refs.chat_view.addMessage(e.url,2,2)}).onFail(function(e){})}).onFail(function(e){})}}},u=f,A=(o("1fa8d"),Object(g["a"])(u,n,s,!1,null,"270abf2e",null));t["default"]=A.exports},ca7e:function(e,t,o){},d53c:function(e,t){e.exports="data:image/png;base64,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"}}]);